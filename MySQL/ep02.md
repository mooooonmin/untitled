# VARCHAR vs TEXT
- 공통점
    - 문자열 속성 값을 저장

- 차이점
    - VARCHAR 타입 컬럼에는 지정된 글자 수 만큼만 데이터 저장 가능
        - VARCHAR(10) -> 10글자 이하만 저장 가능
    - TEXT 타입 컬럼은 인덱스 생성 시 반드시 Prefix 길이 지정 필요
        - `CREATE INDEX ix_text_column ON table (text_column(100));`
    - TEXT 타입 컬럼은 표현식으로만 디폴트 값 지정 가능
        - `CREATE TABLE tb1 (col TEXT DEFAULT 'abc')` -> 디폴트 값을 일반문자열 형식으로 지정하면 에러 발생
        - `CREATE TABLE tb1 (col1 TEXT DEFAULT ('abc'))` -> 생성가능

- 일반적인 사용 형태
    - 길이가 짧으면 VARCHAR, 길면 TEXT
        - 길이가 짧다, 길다의 명확한 기준은 X. 모호함

- VARCHAR(5000) vs TEXT ?
    - VARCHAR 타입은 메모리 버퍼 공간을 미리 할당해두며 재활용 가능
    - TEXT 타입은 그때 그때 필요할 때마다 할당 및 해제
    - 컬럼 사용이 빈번하고 메모리 용량이 충분하다면 VARCHAR 추천
    - VARCHAR(5000)과 같이 길이가 긴 컬럼들을 자주 추가하는 경우, Row 사이즈 제한에 도달할 수 있으므로 적절하게 TEXT 타입과 같이 사용하는 것을 권장

- VARCHAR(30) vs VARCHAR(255) ?
    - 실제 최대 사용하는 길이만큼 명시해야 메모리 사용 효율 증가
    - 디스크 공간 효율 차이도 미미하게 존재

- VARCHAR & TEXT 주의사항
    - 저장되는 값의 사이즈가 크면 off-Page 형태로 데이터가 저장될 수 있음
    - 쿼리에서 off-Page 컬럼의 참조 여부에 따라 쿼리 처리 성능이 달라짐

---
> **VARCHAR 권장**
> 1. 상대적으로 저장되는 데이터 사이즈가 많이 크지 X컬럼
> 2. 컬럼 사용이 빈번
> 3. DB 서버의 메모리 용량이 충분
>> VARCHAR 사용하는 경우 : 실제 사용되는 길이 만큼만 지정

> **TEXT 권장**
> 1. 저장되는 데이터 사이즈 큰편
> 2. 컬럼을 자주 사용 X
> 3. 테이블에서 다른 문자열 컬럼들이 많이 사용되고 있는 경우

> **쿼리의 SELECT 절에는 가능하면 필요한 컬럼들만 명시하는 것이 좋음**
> - 그렇지 X -> 테이블에 대형 데이터 저장 컬럼 존재 시 쿼리 처리 성능 저하
> - 필요 컬럼만 명시 -> 커버링 인덱스 방식으로 처리될 가능성 향상
